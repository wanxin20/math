# ================================================================
# 环境配置示例文件
# 复制此文件为 .env 并修改相应的值
# ================================================================

# 运行环境：development | production
NODE_ENV=development

# ================================================================
# 服务配置
# ================================================================
PORT=3000
API_PREFIX=api/v1

# ================================================================
# 应用 URL 配置（文件上传相关）⭐ 重要
# ================================================================
# 不设置（推荐）：文件 URL 使用相对路径，如 /uploads/images/xxx.png
#                适用于 Nginx 反向代理，前端在同一域名下
# 
# 设置完整 URL：文件 URL 使用完整路径，如 http://api.domain.com/uploads/images/xxx.png
#              适用于跨域部署，前后端不同域名

# 开发环境（不设置，使用相对路径）
# APP_URL=

# 生产环境示例（根据实际情况选择）：
# APP_URL=http://your-server-ip:3000
# APP_URL=https://api.your-domain.com

# ================================================================
# 数据库配置
# ================================================================
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=root
DB_PASSWORD=your_mysql_password
DB_DATABASE=teacher_research_platform

# ================================================================
# JWT 配置
# ================================================================
# ⚠️ 生产环境必须修改为随机的长字符串！
# 生成命令：node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-secret-key-change-this-in-production
JWT_EXPIRES_IN=7d

# ================================================================
# CORS 配置
# ================================================================
# 允许的前端域名，多个用逗号分隔
# 开发环境可以用 * 允许所有域名
CORS_ORIGIN=*
# 生产环境示例：
# CORS_ORIGIN=https://your-frontend-domain.com

# ================================================================
# 文件上传配置
# ================================================================
MAX_FILE_SIZE=104857600

# ================================================================
# 日志配置
# ================================================================
LOG_LEVEL=log

# ================================================================
# 微信支付配置
# ================================================================
# 微信支付商户号
WECHAT_PAY_MCH_ID=your_mch_id

# 微信支付 API v3 密钥（32位）
WECHAT_PAY_API_KEY=your_api_v3_key_32_characters

# 微信支付证书序列号（商户证书序列号，用于请求签名）
WECHAT_PAY_CERT_SERIAL_NO=your_cert_serial_no

# 微信 AppID
WECHAT_PAY_APP_ID=your_app_id

# 微信支付商户私钥文件路径（相对于项目根目录）
# 用于对请求进行签名
WECHAT_PAY_PRIVATE_KEY_PATH=src/config/wechat_pay/apiclient_key.pem

# 微信支付平台公钥文件路径（固定位置）
# 文件位置：src/config/wechat_pay/pub_key.pem
# 公钥ID: PUB_KEY_ID_0115000352722026011900211689002000
# 用于验证微信支付返回的签名

# 微信支付回调地址
WECHAT_PAY_NOTIFY_URL=https://your-domain.com/api/v1/payments/wechat/notify
